<views:BaseRevitWindow
    x:Class="MakeBreak.Views.MakeBreakView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:viewModels="clr-namespace:MakeBreak.ViewModels"
    xmlns:converter="clr-namespace:NoNameApi.Views.Converters;assembly=NoNameAPI"
    xmlns:views="clr-namespace:NoNameApi.Views;assembly=NoNameAPI"
    mc:Ignorable="d"
    d:DataContext="{d:DesignInstance viewModels:MakeBreakViewModel}"
    Title="Разрыв труб"
    SizeToContent="Height"
    Width="350"
    WindowStartupLocation="CenterScreen"
    ResizeMode="NoResize"
    Background="{DynamicResource WindowBackgroundBrush}">
    <Window.Resources>
        <ResourceDictionary>
            <converter:BoolVisibilityConverter x:Key="BoolVisibilityConverter" />
            <d:ResourceDictionary.MergedDictionaries>
                <ResourceDictionary
                    Source="pack://application:,,,/NoNameAPI;component/Views/Resources/Themes/DarkTheme.xaml" />
                <ResourceDictionary
                    Source="pack://application:,,,/NoNameAPI;component/Views/Resources/Themes/Styles.xaml" />
            </d:ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Grid Style="{DynamicResource Grid}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <!-- Контент окна -->
        <Grid Grid.Row="0"
              Margin="0 10">
            <DockPanel HorizontalAlignment="Right">
                <Button HorizontalAlignment="Right" Content="Вернуть видимость трубы"
                        Command="{Binding BringBackVisibilityPipeCommand }"
                        Margin="10 7"
                        Style="{DynamicResource CommonButtonStyle2}" />
                <Button HorizontalAlignment="Right" Content="Удалить разрыв"
                        Margin="0 7"
                        Command="{Binding DeleteBreakCommand }"
                        Style="{DynamicResource CommonButtonStyle2}" />
            </DockPanel>

        </Grid>
        <DockPanel HorizontalAlignment="Right"
                   Grid.Row="1">
            <Button Content="Сделать разрыв"
                    Command="{Binding MakeBreakCommand}"
                    Style="{DynamicResource CommonButtonStyle2}" />
            <Button Content="Закрыть"
                    Margin="10 0 0 0"
                    Style="{DynamicResource OutlineCloseButtonStyle}"
                    Click="CloseButton_Click" />
        </DockPanel>
        <Grid Grid.Row="2" Margin="0 10">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            
            <StackPanel Orientation="Horizontal"
                        Visibility="{Binding IsExistingParameter,
                        Converter={StaticResource BoolVisibilityConverter} }">
                <TextBlock Text="В документе отсутствует параметр." />
                <Button Content="Добавить" Command="{Binding AddParameterCommand}" />
            </StackPanel>
            <StackPanel Grid.Row="1" Orientation="Horizontal"
                        Visibility="{Binding IsExistingFilterInDocument,
                        Converter={StaticResource BoolVisibilityConverter} }">
                <TextBlock Text="В документе отсутствует фильтр вида." />
                <Button Content="Добавить" Command="{Binding AddFilterInDocumentCommand}" />
            </StackPanel>
            <StackPanel Grid.Row="2" Orientation="Horizontal"
                        Visibility="{Binding IsExistingFamily,
                        Converter={StaticResource BoolVisibilityConverter} }">
                <TextBlock Text="В документе отсутствует семейство." />
                <Button Content="Добавить" Command="{Binding AddFamilyCommand}" />
            </StackPanel>
        </Grid>
    </Grid>
</views:BaseRevitWindow>